<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BrainRex Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BrainRex Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-136383172-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://use.typekit.net/ckb0rsm.css">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<link rel="stylesheet" href="">

<title data-react-helmet="true">Process Management | Docs | BrainRex</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="BrainRex - A single API for crypto data and analytics."><meta data-react-helmet="true" property="og:image" content="https://developers.brainrex.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://developers.brainrex.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for BrainRex - A single API for crypto data and analytics."><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="How to manage the Vector process, such as starting, stopping, and reloading."><meta data-react-helmet="true" property="og:description" content="How to manage the Vector process, such as starting, stopping, and reloading."><meta data-react-helmet="true" property="og:url" content="https://developers.brainrex.com/docs/administration/process-management">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.12041eb9.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://oauth.brainrex.com/login?response_type=token&amp;client_id=4hthln1mbhs268cr3ubs39hhda&amp;redirect_uri=https://console.brainrex.com/index.html?action=login">Open Console</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" title="Download" href="/releases/"><i class="feather icon-download"></i> <span class="badge badge--primary">new</span></a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/brainrexAPI"><i class="feather icon-github"></i> <span class="badge badge--secondary">3k</span></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://oauth.brainrex.com/login?response_type=token&amp;client_id=4hthln1mbhs268cr3ubs39hhda&amp;redirect_uri=https://console.brainrex.com/index.html?action=login">Open Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/releases/">Download<span class="badge badge--primary">new</span></a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/brainrexAPI">GitHub<span class="badge badge--secondary">3k</span></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container container--fluid"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">Process Management</h1></header><div class="markdown"><p>This document covers how to manage the Vector process using various process
managers.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="starting"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#starting" title="Direct link to heading">#</a>Starting</h2><p>Vector can be started by calling the <code>vector</code> binary directly, no subcommand is
necessary.</p><div><div><ul class="tabs tabs--block"><li class="tab-item tab-item--active">Manual</li><li class="tab-item">Sytemd</li><li class="tab-item">Initd</li><li class="tab-item">Homebrew</li></ul></div><div class="margin-vert--md"><div><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-bash codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">vector --config /etc/vector/vector.toml</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="flags"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#flags" title="Direct link to heading">#</a>Flags</h3><div class="fields"><div class="filters"><span class="result-count">2 items</span><div class="search"><input placeholder="🔍 Search..."></div><div class="checkboxes"><label title="Only show popular/common results"><input type="checkbox">common only</label><label title="Only show required results"><input type="checkbox">required only</label></div></div><div class="section-list"><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="-c---config"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#-c---config" title="Direct link to heading">#</a>-c, --config</h4><p>Path to the Vector <a href="/docs/setup/configuration/">configuration file</a>.</p><div class="info"><div>Default: <code>&quot;/etc/vector/vector.toml&quot;</code></div><div><div class="show-more">View examples</div></div></div></div><div class="field section field-required" required=""><div class="badges"><span class="badge badge--primary" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">string</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="test"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#test" title="Direct link to heading">#</a>test</h4><p>test</p><div class="info"><div>Default: <code>&quot;/etc/vector/vector.toml&quot;</code></div><div><div class="show-more">View examples</div></div></div></div></div></div><table><thead><tr><th align="left">Flag</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><strong>Required</strong></td><td align="left"></td></tr><tr><td align="left"><code>-c, --config &lt;path&gt;</code></td><td align="left">Path the Vector <a href="/docs/setup/configuration/">configuration file</a>.</td></tr><tr><td align="left"><strong>Optional</strong></td><td align="left"></td></tr><tr><td align="left"><code>-d, --dry-run</code></td><td align="left">Vector will <a href="/docs/administration/validating/">validate configuration</a> and exit.</td></tr><tr><td align="left"><code>-q, --quiet</code></td><td align="left">Raises the log level to <code>warn</code>.</td></tr><tr><td align="left"><code>-qq</code></td><td align="left">Raises the log level to <code>error</code>, the highest level possible.</td></tr><tr><td align="left"><code>-r, --require-healthy</code></td><td align="left">Causes vector to immediately exit if any sinks fail their healthchecks.</td></tr><tr><td align="left"><code>-t, --threads</code></td><td align="left">Limits the number of internal threads Vector can spawn. See the <a href="/docs/setup/deployment/roles/agent/#limiting-resources">Limiting Resources</a> in the <a href="/docs/setup/deployment/roles/agent/">Agent role</a> documentation.</td></tr><tr><td align="left"><code>-v, --verbose</code></td><td align="left">Drops the log level to <code>debug</code>.</td></tr><tr><td align="left"><code>-vv</code></td><td align="left">Drops the log level to <code>trace</code>, the lowest level possible.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="daemonizing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#daemonizing" title="Direct link to heading">#</a>Daemonizing</h3><p>Vector does not <em>directly</em> offer a way to daemonize the Vector process. We
highly recommend that you use a utility like <a href="https://www.freedesktop.org/wiki/Software/systemd/">Systemd</a> to
daemonize and manage your processes. Vector provides a
<a href="https://github.com/timberio/vector/blob/master/distribution/systemd/vector.service"><code>vector.service</code> file</a> for Systemd.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="stopping"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#stopping" title="Direct link to heading">#</a>Stopping</h2><p>The Vector process should be stopped by sending it a <code>SIGTERM</code> process signal:</p><div><div><ul class="tabs tabs--block"><li class="tab-item tab-item--active">Manual</li><li class="tab-item">Systemd</li><li class="tab-item">Initd</li><li class="tab-item">Homebrew</li></ul></div><div class="margin-vert--md"><div><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-bash codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> -SIGTERM </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector-process-id</span><span class="token operator" style="color:#393A34">&gt;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre></div></div></div><p>If you are currently running the Vector process in your terminal, this can be
achieved by a single <code>ctrl+c</code> key combination.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="graceful-shutdown"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#graceful-shutdown" title="Direct link to heading">#</a>Graceful Shutdown</h3><p>Vector is designed to gracefully shutdown within 20 seconds when a <code>SIGTERM</code>
process signal is received. The shutdown process is as follows:</p><ol><li>Stop accepting new data for all <a href="/docs/reference/sources/">sources</a>.</li><li>Gracefully close any open connections with a 20 second timeout.</li><li>Flush any sink buffers with a 20 second timeout.</li><li>Exit the process with a 1 code.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="force-killing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#force-killing" title="Direct link to heading">#</a>Force Killing</h3><p>If Vector is forcefully killed there is potential for losing any in-flight
data. To mitigate this we recommend enabling on-disk buffers and avoiding
forceful shutdowns whenever possible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="exit-codes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#exit-codes" title="Direct link to heading">#</a>Exit Codes</h3><p>If Vector fails to start it will exit with one of the preferred exit codes
as defined by <code>sysexits.h</code>. A full list of exit codes can be found in the
<a href="https://docs.rs/exitcode/1.1.2/exitcode/#constants"><code>exitcodes</code> Rust crate</a>. The relevant codes that Vector uses
are:</p><table><thead><tr><th align="left">Code</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>0</code></td><td align="left">No error.</td></tr><tr><td align="left"><code>78</code></td><td align="left">Bad <a href="/docs/setup/configuration/">configuration</a>.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="reloading"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reloading" title="Direct link to heading">#</a>Reloading</h2><p>Vector can be reloaded, on the fly, to recognize any configuration changes by
sending the Vector process a <code>SIGHUP</code> signal:</p><div><div><ul class="tabs tabs--block"><li class="tab-item tab-item--active">Manual</li><li class="tab-item">Systemd</li><li class="tab-item">Initd</li><li class="tab-item">Homebrew</li></ul></div><div class="margin-vert--md"><div><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-bash codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> -SIGHUP </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector-process-id</span><span class="token operator" style="color:#393A34">&gt;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>You can find the Vector process ID with:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-bash codeBlock_1wn8" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> -ax vector </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> vector</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration-errors"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-errors" title="Direct link to heading">#</a>Configuration Errors</h3><p>When Vector is reloaded it proceeds to read the new configuration file from
disk. If the file has errors it will be logged to <code>STDOUT</code> and ignored,
preserving any previous configuration that was set. If the process exits you
will not be able to restart the process since it will proceed to use the
new configuration file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="graceful-pipeline-transitioning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#graceful-pipeline-transitioning" title="Direct link to heading">#</a>Graceful Pipeline Transitioning</h3><p>Vector will perform a diff between the new and old configuration, determining
which sinks and sources should be started and shutdown and ensures the
transition from the old to new pipeline is graceful.</p></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="table-of-contents"><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#starting" class="contents__link">Starting</a><ul><li><a href="#flags" class="contents__link">Flags</a></li><li><a href="#daemonizing" class="contents__link">Daemonizing</a></li></ul></li><li><a href="#stopping" class="contents__link">Stopping</a><ul><li><a href="#graceful-shutdown" class="contents__link">Graceful Shutdown</a></li><li><a href="#force-killing" class="contents__link">Force Killing</a></li><li><a href="#exit-codes" class="contents__link">Exit Codes</a></li></ul></li><li><a href="#reloading" class="contents__link">Reloading</a><ul><li><a href="#configuration-errors" class="contents__link">Configuration Errors</a></li><li><a href="#graceful-pipeline-transitioning" class="contents__link">Graceful Pipeline Transitioning</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/timberio/vector/edit/master/website/docs/administration/process-management.md" class="contents__link" target="_blank"><i class="feather icon-edit-1"></i> Edit this page</a></li></ul></div></div></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://formspree.io/xqkevzld" method="post" class="mailing-list--form"><input type="email" class="input input--undefined" name="email" placeholder="you@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe</button></form></div></div><div><a href="https://twitter.com/timberdotio" target="_blank"><i class="feather icon-twitter" alt="Vector&#x27;s Twitter"></i></a>    <a href="https://chat.vector.dev" target="_blank"><i class="feather icon-message-circle" alt="Vector&#x27;s Chat"></i></a>    <a href="https://github.com/timberio/vector" target="_blank"><i class="feather icon-github" alt="Vector&#x27;s Github Repo"></i></a>    <a href="https://vector.dev/blog/atom.xml" target="_blank"><i class="feather icon-rss" alt="Vector&#x27;s RSS feed"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-brainrex/">What is BrainRex?</a></li><li class="footer__item"><a class="footer__link-item" href="/community/#team">The Team</a></li><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/press/">Press</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Products</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/reference/sources/">Sources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/transforms/">Transforms</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/sinks/">Sinks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/setup/installation/">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup/deployment/">Deployment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup/configuration/">Configuration</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs/administration/">Administration</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://chat.vector.dev" href="https://chat.vector.dev">Chat</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/brainrexAPI" href="https://github.com/brainrexAPI">Github</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/brainrexAI" href="https://twitter.com/brainrexAI">Twitter</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.linkedin.com/company/brainrex/" href="https://www.linkedin.com/company/brainrex/">Linkedin</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://brainrex.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright © 2020 BrainRex, Ltd.</div></div></footer>
</div>

<script src="/styles.df23172f.js"></script>

<script src="/runtime~main.8abde316.js"></script>

<script src="/main.651451ed.js"></script>

<script src="/common.115dfc8b.js"></script>

<script src="/2.89f117cd.js"></script>

<script src="/4.ab569136.js"></script>

<script src="/1be78505.f61b692c.js"></script>

<script src="/20ac7829.8ad1bb75.js"></script>

<script src="/17896441.e2a9c800.js"></script>

<script src="/3.9f8faaf7.js"></script>

<script src="/1947eda9.321efb12.js"></script>


</body>
</html>