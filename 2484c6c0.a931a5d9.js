(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{125:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return p})),a.d(t,"metadata",(function(){return b})),a.d(t,"rightToc",(function(){return h})),a.d(t,"default",(function(){return g}));var n=a(1),r=a(6),l=(a(0),a(254)),c=a(276),s=a.n(c),o=a(259),i=a(260),m=a(261),u=a(262),d=a(264),p={title:"Log Event",description:"A detailed guide on Vector's internal log data model."},b={id:"about/data-model/log",title:"Log Event",description:"A detailed guide on Vector's internal log data model.",source:"@site/docs/about/data-model/log.md",permalink:"/docs/about/data-model/log",editUrl:"https://github.com/timberio/vector/edit/master/website/docs/about/data-model/log.md",sidebar:"docs",previous:{title:"Data Model (Event)",permalink:"/docs/about/data-model"},next:{title:"Metric Event",permalink:"/docs/about/data-model/metric"}},h=[{value:"Description",id:"description",children:[]},{value:"Examples",id:"examples",children:[]},{value:"Schema",id:"schema",children:[{value:"<code>[key]</code>",id:"key",children:[]},{value:"host",id:"host",children:[]},{value:"message",id:"message",children:[]},{value:"timestamp",id:"timestamp",children:[]}]},{value:"Components",id:"components",children:[]},{value:"How It Works",id:"how-it-works",children:[{value:"Time Zones",id:"time-zones",children:[]},{value:"Timestamp Coercion",id:"timestamp-coercion",children:[]},{value:"Types",id:"types",children:[]}]}],f={rightToc:h},v="wrapper";function g(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(l.b)(v,Object(n.a)({},f,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)(s.a,{src:"/img/data-model-log.svg",mdxType:"SVG"}),Object(l.b)("h2",{id:"description"},"Description"),Object(l.b)("p",null,"A ",Object(l.b)("inlineCode",{parentName:"p"},"log")," event is a structured represention of a point-in-time event. It contains\nan arbitrary set of fields (key/value pairs) that describe the event."),Object(l.b)("h2",{id:"examples"},"Examples"),Object(l.b)(o.a,{block:!0,defaultValue:"default",values:[{label:"Default Schema",value:"default"},{label:"Custom Fields",value:"custom"},{label:"Nested Fields",value:"nested"}],mdxType:"Tabs"},Object(l.b)(i.a,{value:"default",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'{\n  "host": "my.host.com",\n  "message": "<13>Feb 13 20:07:26 74794bfb6795 root[8539]: i am foobar",\n  "timestamp": "2019-11-01T21:15:47+00:00"\n}\n'))),Object(l.b)(i.a,{value:"custom",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'{\n  "host": "my.host.com",\n  "message": "<13>Feb 13 20:07:26 74794bfb6795 root[8539]: i am foobar",\n  "timestamp": "2019-11-01T21:15:47+00:00",\n  "custom_field": "custom_value" // custom keys are allowed\n}\n'))),Object(l.b)(i.a,{value:"nested",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),'{\n  "host": "my.host.com",\n  "message": "<13>Feb 13 20:07:26 74794bfb6795 root[8539]: i am foobar",\n  "timestamp": "2019-11-01T21:15:47+00:00",\n  "parent.child": "child_value" // nested fields are delimited with a `.` char\n}\n')))),Object(l.b)("h2",{id:"schema"},"Schema"),Object(l.b)(m.a,{filters:!0,mdxType:"Fields"},Object(l.b)(u.a,{defaultValue:null,enumValues:null,examples:[{"my-key":"my-value"}],name:"`[key]`",path:null,required:!1,type:"*",mdxType:"Field"},Object(l.b)("h3",{id:"key"},Object(l.b)("inlineCode",{parentName:"h3"},"[key]")),Object(l.b)("p",null,"In addition to the defined fields, you are welcome to add your own fields.")),Object(l.b)(u.a,{defaultValue:null,enumValues:null,examples:["my.host.com"],name:"host",path:null,required:!1,type:"string",mdxType:"Field"},Object(l.b)("h3",{id:"host"},"host"),Object(l.b)("p",null,"Represents the originating host of the log. This is commonly used in ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/sources/"}),"sources")," but can be overridden via the ",Object(l.b)("inlineCode",{parentName:"p"},"host_field")," option for relevant sources.")),Object(l.b)(u.a,{defaultValue:null,enumValues:null,examples:["<13>Feb 13 20:07:26 74794bfb6795 root[8539]: i am foobar"],name:"message",path:null,required:!0,type:"string",mdxType:"Field"},Object(l.b)("h3",{id:"message"},"message"),Object(l.b)("p",null,"Represents the log message. This is the key used when ingesting raw string data.")),Object(l.b)(u.a,{defaultValue:null,enumValues:null,examples:["2019-11-01T21:15:47+00:00"],name:"timestamp",path:null,required:!0,type:"timestamp",mdxType:"Field"},Object(l.b)("h3",{id:"timestamp"},"timestamp"),Object(l.b)("p",null,"A normalized ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.rs/chrono/0.4.0/chrono/struct.DateTime.html"}),"Rust DateTime struct")," in UTC. See ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#timestamp-coercion"}),"Timestamp Coercion")," for more info."))),Object(l.b)("h2",{id:"components"},"Components"),Object(l.b)(d.a,{to:"/components/?log=true",mdxType:"Jump"},"View all log compatible components"),Object(l.b)("h2",{id:"how-it-works"},"How It Works"),Object(l.b)("h3",{id:"time-zones"},"Time Zones"),Object(l.b)("p",null,"If Vector receives a timestamp that does not contain timezone information\nVector assumes the timestamp is in local time, and will convert the timestamp\nto UTC from the local time. It is important that the host system contain\ntime zone data files to properly determine the local time zone. This is\ntypically installed through the ",Object(l.b)("inlineCode",{parentName:"p"},"tzdata")," package. See ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/timberio/vector/issues/551"}),"issue 551"),"\nfor more info."),Object(l.b)("h3",{id:"timestamp-coercion"},"Timestamp Coercion"),Object(l.b)("p",null,"There are cases where Vector interacts with formats that do not have a formal\ntimestamp defintion, such as JSON. In these cases, Vector will ingest the\ntimestamp in it's primitive form (string or integer). You can then coerce the\nfield into a ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"#timestamp"}),Object(l.b)("inlineCode",{parentName:"a"},"timestamp"))," using the\n",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/transforms/coercer/"}),Object(l.b)("inlineCode",{parentName:"a"},"coercer")," transform"),". If you are parsing this data\nout of a string, all Vector parser transforms include a ",Object(l.b)("inlineCode",{parentName:"p"},"types")," option,\nallowing you to extract and coerce in one step."),Object(l.b)("h3",{id:"types"},"Types"),Object(l.b)("h4",{id:"strings"},"Strings"),Object(l.b)("p",null,"Strings are UTF8 compatible and are only bounded by the available system\nmemory."),Object(l.b)("h4",{id:"ints"},"Ints"),Object(l.b)("p",null,"Integers are signed integers up to 64 bits."),Object(l.b)("h4",{id:"floats"},"Floats"),Object(l.b)("p",null,"Floats are signed floats up to 64 bits."),Object(l.b)("h4",{id:"booleans"},"Booleans"),Object(l.b)("p",null,"Booleans represent binary true/false values."),Object(l.b)("h4",{id:"timestamps"},"Timestamps"),Object(l.b)("p",null,"Timestamps are represented as ",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.rs/chrono/0.4.0/chrono/struct.DateTime.html"}),Object(l.b)("inlineCode",{parentName:"a"},"DateTime")," Rust structs"),"\nstored as UTC."))}g.isMDXComponent=!0},254:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=r.a.createContext({}),m=function(e){var t=r.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s({},t,{},e)),a},u=function(e){var t=m(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),u=m(a),d=n,b=u["".concat(c,".").concat(d)]||u[d]||p[d]||l;return a?r.a.createElement(b,s({ref:t},i,{components:a})):r.a.createElement(b,s({ref:t},i))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,c=new Array(l);c[0]=b;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[d]="string"==typeof e?e:n,c[1]=s;for(var i=2;i<l;i++)c[i]=a[i];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"},256:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(85);t.a=function({fileName:e,links:t}){let a=[];for(var n in t)a.push(r.a.createElement("a",{href:n.href},n.text||"Learn more&hellip;"));return r.a.createElement("div",{className:"code-header"},a.length>0&&r.a.createElement("span",{className:"code-header--links"},a),e)}},257:function(e,t,a){"use strict";var n=a(1),r=a(0),l=a.n(r),c=a(17);const s=/^\/(?!\/)/;t.a=function(e){const{to:t,href:a}=e,o=t||a,i=s.test(o),m=Object(r.useRef)(!1),u="undefined"!=typeof window&&"IntersectionObserver"in window;let d;return Object(r.useEffect)(()=>(!u&&i&&window.docusaurus.prefetch(o),()=>{u&&d&&d.disconnect()}),[o,u,i]),o&&i?l.a.createElement(c.b,Object(n.a)({},e,{onMouseEnter:()=>{m.current||(window.docusaurus.preload(o),m.current=!0)},innerRef:e=>{u&&e&&i&&((e,t)=>{d=new window.IntersectionObserver(a=>{a.forEach(a=>{e===a.target&&(a.isIntersecting||a.intersectionRatio>0)&&(d.unobserve(e),d.disconnect(),t())})}),d.observe(e)})(e,()=>{window.docusaurus.prefetch(o)})},to:o})):l.a.createElement("a",Object(n.a)({},e,{href:o}))}},258:function(e,t,a){"use strict";(function(e){var n=a(1),r=a(0),l=a.n(r),c=a(275),s=a(267),o=a.n(s),i=a(265),m=a(253),u=a.n(m),d=a(274),p=a.n(d),b=a(268),h=a.n(b),f=a(255),v=a(86),g=a.n(v),y=a(263);(void 0!==e?e:window).Prism=i.a,a(269),a(270),a(271),a(272),a(273);const O=/{([\d,-]+)}/;t.a=({children:e,className:t,metastring:a})=>{const{siteConfig:{themeConfig:{prism:s={}}}}=Object(f.a)(),[i,m]=Object(r.useState)(!1),d=Object(r.useRef)(null),b=Object(r.useRef)(null),[v]=Object(y.a)();let j=[];if(a&&O.test(a)){const e=a.match(O)[1];j=h.a.parse(e).filter(e=>e>0)}Object(r.useEffect)(()=>{let e;return b.current&&(e=new o.a(b.current,{target:()=>d.current})),()=>{e&&e.destroy()}},[b.current,d.current]);let E=t&&t.replace(/language-/,"");!E&&s.defaultLanguage&&(E=s.defaultLanguage);const N=()=>{window.getSelection().empty(),m(!0),setTimeout(()=>m(!1),2e3)};let w="dark"==v?s.darkTheme:s.theme;return l.a.createElement(c.a,Object(n.a)({},c.b,{theme:w||p.a,code:e.trim(),language:E}),({className:e,style:t,tokens:a,getLineProps:r,getTokenProps:c})=>l.a.createElement("div",{className:g.a.codeBlockWrapper},l.a.createElement("pre",{ref:d,className:u()(e,g.a.codeBlock),style:t},a.map((e,t)=>{const a=r({line:e,key:t});return j.includes(t+1)&&(a.className=`${a.className} docusaurus-highlight-code-line`),l.a.createElement("div",Object(n.a)({key:t},a),e.map((e,t)=>l.a.createElement("span",Object(n.a)({key:t},c({token:e,key:t})))))})),l.a.createElement("button",{ref:b,type:"button","aria-label":"Copy code to clipboard",className:g.a.copyButton,onClick:N},i?"Copied":"Copy")))}}).call(this,a(48))},259:function(e,t,a){"use strict";var n=a(1),r=a(0),l=a.n(r),c=a(266),s=a(253),o=a.n(s),i=a(277),m=a.n(i);function u({block:e,centered:t,className:a,style:n,values:r,selectedValue:c,setSelectedValue:s}){return l.a.createElement("div",{className:t?"tabs--centered":""},l.a.createElement("ul",{className:o()("tabs",a,{"tabs--block":e}),style:n},r.map(({value:e,label:t})=>l.a.createElement("li",{className:o()("tab-item",{"tab-item--active":c===e}),key:e,onClick:()=>s(e)},t))))}function d({selectedValue:e,setSelectedValue:t,values:a}){return l.a.createElement(c.a,{className:"react-select-container",classNamePrefix:"react-select",options:a,isClearable:!1,placeholder:"Select a version...",value:a.find(t=>t.value==e),onChange:e=>t(e?e.value:null)})}t.a=function(e){const{block:t,centered:a,children:c,defaultValue:s,select:o,style:i,values:p,urlKey:b}=e,[h,f]=Object(r.useState)(s);return Object(r.useEffect)(()=>{if("undefined"!=typeof window&&window.location&&b){let e=m.a.parse(window.location.search);e[b]&&f(e[b])}},[]),l.a.createElement("div",null,p.length>1&&(o?l.a.createElement(d,Object(n.a)({selectedValue:h,setSelectedValue:f},e)):l.a.createElement(u,Object(n.a)({selectedValue:h,setSelectedValue:f},e))),l.a.createElement("div",{className:"margin-vert--md"},r.Children.toArray(c).filter(e=>e.props.value===h)[0]))}},260:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("div",null,e.children)}},261:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(87);t.a=function({children:e,filters:t}){const[a,l]=Object(n.useState)(!1),[c,s]=Object(n.useState)(!1),[o,i]=Object(n.useState)(null);let m=Array.isArray(e)?e:[e],u=m.some(e=>e.props.common),d=m.some(e=>e.props.required),p=m;return a&&(p=p.filter(e=>e.props.common)),c&&(p=p.filter(e=>e.props.required)),o&&(p=p.filter(e=>e.props.name.toLowerCase().includes(o.toLowerCase()))),r.a.createElement("div",{className:"fields"},m.length>1&&!1!==t?r.a.createElement("div",{className:"filters"},r.a.createElement("span",{className:"result-count"},p.length," items"),r.a.createElement("div",{className:" search"},r.a.createElement("input",{type:"text",onChange:e=>i(e.currentTarget.value),placeholder:"\ud83d\udd0d Search..."})),r.a.createElement("div",{className:"checkboxes"},u&&r.a.createElement("label",{title:"Only show popular/common results"},r.a.createElement("input",{type:"checkbox",onChange:e=>l(e.currentTarget.checked),checked:a}),"common only"),d&&r.a.createElement("label",{title:"Only show required results"},r.a.createElement("input",{type:"checkbox",onChange:e=>s(e.currentTarget.checked),checked:c}),"required only"))):null,r.a.createElement("div",{className:"section-list"},!Array.isArray(p)||p.length>0?p:r.a.createElement("div",{className:"empty"},r.a.createElement("div",{className:"icon"},"\u2639"),r.a.createElement("div",null,"No fields found"))))}},262:function(e,t,a){"use strict";a(12);var n=a(0),r=a.n(n),l=a(253),c=a.n(l),s=(a(254),a(256)),o=a(258);function i(e){return JSON.stringify(e)}function m(e){return e.includes(".")?'"'+e+'"':e}function u(e,t){return(a=t)&&a.constructor===Object?"name"in t&&"value"in t?`${m(t.name)} = ${i(t.value)}`:`${m(Object.keys(t)[0])} = ${i(Object.values(t)[0])}`:e?`${e} = ${i(t)}`:`${i(t)}`;var a}function d({values:e}){let t=[];if(Array.isArray(e))for(var a in e){let n=e[a];t.push(r.a.createElement("code",{key:n},i(n))),t.push(" ")}else for(var n in e)t.push(r.a.createElement("code",{key:n,title:e[n]},i(n))),t.push(" ");return t}function p({name:e,path:t,value:a}){return r.a.createElement("code",null,u(null,a))}function b({name:e,path:t,values:a}){let n="";return a.forEach((function(t){n+=u(e,t)+"\n"})),t&&(n=`[${t}]\n${n}`),r.a.createElement("div",null,r.a.createElement(s.a,{fileName:"vector.toml"}),r.a.createElement(o.a,{className:"language-toml"},n))}function h({value:e}){let t=Object.keys(e)[0],a=Object.values(e)[0];return r.a.createElement("span",null,r.a.createElement("code",null,r.a.createElement("a",{href:`#${t}`},t))," = ",r.a.createElement("code",null,i(a)))}function f({defaultValue:e,enumValues:t,examples:a,name:l,path:c,relevantWhen:s}){const[o,i]=Object(n.useState)(!1);return e||t||a&&a.length>0?r.a.createElement("div",{className:"info"},void 0!==e?e?r.a.createElement("div",null,"Default: ",r.a.createElement(p,{name:l,path:c,value:e})):r.a.createElement("div",null,"No default"):null,t?r.a.createElement("div",null,"Enum, must be one of: ",r.a.createElement(d,{values:t})):null,s?r.a.createElement("div",null,"Only relevant when: ",r.a.createElement(h,{value:s})):null,r.a.createElement("div",null,r.a.createElement("div",{className:"show-more",onClick:()=>i(!o)},o?"Hide examples":"View examples"),o&&r.a.createElement("div",{className:"examples"},r.a.createElement(b,{name:l,path:c,values:a})))):null}t.a=function({children:e,common:t,defaultValue:a,enumValues:l,examples:s,name:o,path:i,relevantWhen:m,templateable:u,type:d,unit:p,required:b}){const[h,v]=Object(n.useState)(!1);let g=e;return h&&(g=g.filter(e=>"p"!=e.props.originalType)),r.a.createElement("div",{className:c()("field","section",b?"field-required":"",h?"field-collapsed":""),required:b},r.a.createElement("div",{className:"badges"},t&&r.a.createElement("span",{className:"badge badge--primary",title:"This is a popular that we recommend for getting started"},"common"),u&&r.a.createElement("span",{className:"badge badge--primary",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),r.a.createElement("span",{className:"badge badge--secondary"},d),l&&Object.keys(l).length>0&&r.a.createElement("span",{className:"badge badge--secondary",title:"This option is an enumation and only allows specific values"},"enum"),p&&r.a.createElement("span",{className:"badge badge--secondary"},p),b?r.a.createElement("span",{className:"badge badge--danger"},"required"):r.a.createElement("span",{className:"badge badge--secondary"},"optional")),g,!h&&r.a.createElement(f,{defaultValue:a,enumValues:l,examples:s,name:o,path:i,relevantWhen:m}))}},264:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(257),c=a(253),s=a.n(c);a(88);t.a=function({children:e,className:t,badge:a,icon:n,size:c,target:o,to:i}){let m=s()("jump-to",`jump-to--${c}`,t),u=r.a.createElement("div",{className:"jump-to--inner"},r.a.createElement("div",{className:"jump-to--inner-2"},r.a.createElement("div",{className:"jump-to--main"},a?r.a.createElement("span",{className:"badge badge--primary badge--right"},a):"",e),r.a.createElement("div",{className:"jump-to--right"},r.a.createElement("i",{className:`feather icon-${n||"chevron-right"} arrow`}))));return o?r.a.createElement("a",{href:i,target:o,className:m},u):r.a.createElement(l.a,{to:i,className:m},u)}}}]);